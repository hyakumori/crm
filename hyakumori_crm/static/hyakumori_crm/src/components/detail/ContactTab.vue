<template>
  <v-tabs class="contact-tabs" height="35" hide-slider>
    <v-tab
      class="contact-tabs__owner"
      active-class="contact-tabs__owner--active"
      @click="ownerTabClick"
      >{{ $t("detail.tabs.owner") }}</v-tab
    >

    <v-tab
      class="contact-tabs__contactor ml-1"
      active-class="contact-tabs__contactor--active"
      @click="contactorTabClick"
      >{{ $t("detail.tabs.contactor") }}</v-tab
    >

    <v-spacer></v-spacer>
    <v-switch
      class="contact-tabs__switch mt-0 pr-4"
      label="代表連絡者"
      :ripple="false"
      :color="switchColor"
    ></v-switch>

    <v-tab-item>
      <v-row no-gutters>
        <template v-for="(contact, index) in ownerContacts">
          <v-col cols="6" :key="index">
            <contact-card
              mode="customer"
              :card_id="contact.customer_id"
              :title="contact.title"
              :address="contact.address"
              :email="contact.email"
              :subTitle="contact.forest_count"
              :phone="contact.phone"
              :cellphone="contact.cellphone"
              :isOwner="true"
              :isUpdate="isUpdate"
            />
          </v-col>
        </template>
      </v-row>
    </v-tab-item>

    <v-tab-item>
      <v-row no-gutters>
        <template v-for="(contact, index) in contactorContacts">
          <v-col cols="6" :key="index">
            <contact-card
              mode="customer"
              :card_id="contact.customer_id"
              :title="contact.title"
              :address="contact.address"
              :email="contact.email"
              :subTitle="contact.forest_count"
              :phone="contact.phone"
              :cellphone="contact.cellphone"
              :isContactor="true"
              :isUpdate="isUpdate"
            />
          </v-col>
        </template>
      </v-row>
    </v-tab-item>
  </v-tabs>
</template>

<script>
import ContactCard from "../detail/ContactCard";

export default {
  name: "contact-tab",

  components: {
    ContactCard,
  },

  data() {
    return {
      selectedTab: "owner",
    };
  },

  props: {
    ownerContacts: Array,
    contactorContacts: Array,
    isUpdate: Boolean,
  },

  methods: {
    ownerTabClick() {
      this.selectedTab = "owner";
    },

    contactorTabClick() {
      this.selectedTab = "contactor";
    },
  },

  computed: {
    switchColor() {
      return this.selectedTab === "owner" ? "#12c7a6" : "#f36c69";
    },
  },
};
</script>

<style lang="scss" scoped>
$owner-color: #12c7a6;
$contactor-color: #f36c69;
$border-tabs: 18px;

@mixin tab-default($color) {
  color: $color !important;
  font-size: 14px;
  font-weight: bold;
}

@mixin tab-active($color) {
  background-color: $color;
  border-radius: 18px;
  color: white !important;
  line-height: 14px;
}

.contact-tabs ::v-deep {
  .v-tabs-items {
    margin-top: 20px;
  }
}

.contact-tabs {
  width: 100%;
  height: fit-content;

  &__owner {
    @include tab-default($owner-color);

    &::before {
      border-radius: $border-tabs;
    }

    &:hover {
      border-radius: $border-tabs;
    }

    &--active {
      @include tab-active($owner-color);
    }
  }

  &__contactor {
    @include tab-default($contactor-color);
    margin-left: 6px;

    &::before {
      border-radius: $border-tabs;
    }

    &:hover {
      border-radius: $border-tabs;
    }

    &--active {
      @include tab-active($contactor-color);
    }
  }

  &__switch ::v-deep {
    label {
      font-size: 14px;
      color: #444444;
    }
  }
}
</style>
